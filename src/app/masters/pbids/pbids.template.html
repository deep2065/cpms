
    <div class="col-md-12">
      <div class="modal-header">       
        <h4 class="modal-title">Pending Bid</h4>
      </div>
      <div class="modal-body">
          <h4 class="modal-title">{{error}}</h4>
          <div class="col-md-12">
            <div class="alert alert-success" *ngIf="success">
                <strong>{{success}}</strong> 
              </div>
        <form class="form-horizontal" id="newproform"  #form="ngForm" (ngSubmit)="addnewbid(form.value);">
          <div class="row">
            <div class="col-sm-12">
                <div class="form-group col-sm-3">
                    <label class="control-label" for="protype" >Choose Bids</label>
                  <select name="protype" class="form-control" (change)='selectbids($event.target.value)' >
                    <option value="" selected >Select Your Bid</option>
                    <option *ngFor='let pro of bidsname' value="{{pro.key}}">{{pro.name}}</option>
                  </select>
                  </div>
            </div>
          <div class="col-sm-4 f-left">              
            <div class="deep">
                <div class="header-h">       
                    <h4 class="modal-title">Client Info</h4>
                  </div>
          <div class="form-group">
            <label class="control-label" for="clientname">Client Name</label>
           <h4>{{prodata.clientname}}</h4>
                </div>
            
              <div class="form-group">
                <label class="control-label" for="clientadd">Client Address</label>
                <h4>{{prodata.clientadd}}</h4>
                    </div>           
             
              <div class="form-group">
                <label class="control-label" for="clientmobile">Client Phone Number</label>
                <h4>{{prodata.clientname}}
                <br>
                {{prodata.clientmobile}}</h4>
                  </div>          
              
          </div>
        </div>
        <div class="col-sm-4 f-left">
            <div class="deep">
                <div class="header-h">       
                    <h4 class="modal-title">Bid Info</h4>
                  </div>
            <div class="form-group">
              <label class="control-label" for="remodeltype">Remodel Type</label>
              <h4>Remodel Type</h4>
              <h4>{{prodata.remodeltype}}</h4>
            </div>
            
            <div class="form-group">
                <label class="control-label" for="bedroom">Number Of Bedrooms</label>
                <h4>#Bed Rooms :- {{prodata.bedroom}}</h4>
                   </div>
            <div class="form-group">
                <label class="control-label" for="bathroom">Number Of Bathrooms</label>
                <h4>#Bath Rooms :- {{prodata.bathroom}}</h4> 
              </div>
                <div class="form-group">
                    <label class="control-label" for="garagetype">Garage Type</label>
                    <h4>Garage :- {{prodata.garagetype}}</h4>
                  </div>
                <div class="form-group">
                    <label class="control-label" for="carpot">Carpot</label>
                    <h4>Carpot :- {{prodata.carpot}}</h4>
                  </div>
            </div>
          </div>
          <div class="col-sm-4 f-left">
              <div class="deep">
                  <div class="header-h">       
                      <h4 class="modal-title">General Info</h4>
                    </div>
                    <div class="form-group">
                      <h4>Bid Date :-  {{prodata.biddate}}</h4>
                    </div>
                    <div class="form-group">
                      <h4>Bid Expration :-  {{prodata.bidexpair}}</h4>
                    </div>
                    <div class="form-group">
                      <h4>Prepared By :-  {{prodata.preparedby}}</h4>
                    </div>
                    <div class="form-group">
                      <h4>Supervisor :-  {{prodata.supervisor}}</h4>
                    </div>
             
              </div>
            </div>  
          </div>       
         
        </form>
      </div>
<div class="col-sm-12">
    <div class="deep" style="min-height: 100px;">
        <div class="header-h">       
            <h4 class="modal-title">Items</h4>
          </div>
            <table class="table">
              <thead>
              <tr>
                <th>Item</th>
                <th>Quantity</th>
                <th>Unit Cost</th>
                <th>Adjustment Factor</th>
                <th>Line Total</th>
                <th>Notes</th>
              </tr>
            </thead>
            <tbody *ngIf='estimator.length>0'>
              <tr *ngFor='let item of estimator; let i=index'>
                <td><span id='itemname_{{i}}'>{{item.item}}</span></td>
                <td> <span id='quantyti_{{i}}'>{{item.quantity}}</span> </td>
              <td><span id='price_{{i}}'>{{item.price}}</span></td>
              <td><span id='adj_{{i}}'>{{item.factor}}</span></td>
              <td><span id='total_{{i}}'>{{item.ltotal}}</span></td>
              <td><span id='notes_{{i}}'>{{item.notes}}</span></td>
              </tr>
              <tr>
                <td colspan="3"></td>
                <td>Total</td>
                <td>{{prodata.totalprice}}</td>
                <td></td>
              </tr>
              <tr>
                
                <td colspan="3">
                  <textarea class="form-control" name='comments' placeholder='Comments'> Comments </textarea>
                </td>
                <td colspan="2">
                 Attachment's
                </td>
              </tr>
            </tbody>

            </table>
            <div class="col-sm-12" *ngIf='items123.length>0' >
                <div class="modal-header">       
                    <h4 class="modal-title">Material List</h4>
                  </div>
              <div id="accordion" role="tablist">
                <div class="card" *ngFor="let item1 of items123; let i = index;">
                   
                  <div class="card-header" role="tab" id="heading{{i}}">
                    <div class="my-col1">
                      <a data-toggle="collapse" href="#collapse{{i}}" aria-expanded="false">
                    <h5 class="mb-0">
                     
                       {{item1.itemname}}
                      
                    </h5>
                  </a>
                  </div>
            
                  <div class="my-col2">
                      <div class="form-group form-inline " style="float:right">
                          <label class="control-label" for="trade">Trade</label>
                          <label class="control-label" for="trade">{{item1.trade}}</label>
                          <!--<select class=""  name="trade" id="trade"  ngModel>
                            <option value="">-- Trade --</option> 
                            <option *ngFor="let category of trade" [ngValue]="category.cname" [selected]="category.cname == item1.cname">{{category.cname}}</option>                   
                          </select>-->
                        </div>
                    
                  </div>
                  </div>
                 
              
                  <div id="collapse{{i}}" class="collapse" [ngClass]="{'show':i==0}" role="tabpanel" data-parent="#accordion">
                    <div class="card-body">
                        <table class="table">
                          <thead>
                            <tr>
                              <th>Material Name</th>
                              <th>Material Quantity</th>
                              <th>Material Unit</th>
                            </tr>
                          </thead>
                          <tbody *ngFor='let mat of item1.material; let l=index'>
                              <tr *ngIf='mat'>
                              <td>{{mat.materialname}}</td>
                              <td>{{mat.materialquantity}}</td>
                              <td>{{mat.materialunit}}</td>
                            </tr>
                          </tbody>
                        </table>
                     </div>
                  </div>
                </div>
                
              </div>
            </div>
            <div class="col-sm-12" style="text-align:center;">
                <button (click)='approved();' style="background: none;  border: none; color: #fff;">Approve And Send To Client</button>
                <button (click)='disapprove();'  style="background: none;  border: none; color: #fff;">Disapprove ></button>
                <button (click)='materiallist();' style="background: none;  border: none; color: #fff;">See Material List ></button>
                <button (click)='mail();' style="background: none;  border: none; color: #fff;">Send Mail ></button>
              </div>
          </div>
         
</div>
</div>
</div>
<div id="additemsintobid" class="modal fade" role="dialog">
    <div class="modal-dialog">
  
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">       
          <h4 class="modal-title">Add New Item</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <div class="modal-body">
            <h4 class="modal-title">{{error}}</h4>
          <form class="form-horizontal"  #additemform="ngForm" (ngSubmit)="additemtoarray(additemform.value)">
             
            <div class="form-group">
              <label class="control-label col-sm-12" for="secname">Choose Your Items</label>
              <div class="col-sm-10" *ngFor="let item of itemsarray; let i=index">                
                <input type="checkbox" [checked]='additem.indexOf(item)>-1' (click)='checkditem($event,item)' >{{item.itemname.itemname}}
              </div>
            </div>
           <!--
            
            <div class="form-group"> 
              <div class="col-sm-offset-12">
                <button type="submit" class="btn btn-default">Add Item</button>
              </div>
            </div>
          -->
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
  
    </div>
  </div>
  <button type="button" id='openaddprotypemodel' style="display:none;" data-toggle="modal" data-target="#addprojecttype"></button> 
  
  <div id="addprojecttype" class="modal fade" role="dialog">
    <div class="modal-dialog">
  
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">       
          <h4 class="modal-title">Add Project Type</h4>
          <button type="button" id="closeaddprotypemodel" class="close" data-dismiss="modal">&times;</button>
        </div>
        <div class="modal-body">
            <h4 class="modal-title">{{error}}</h4>
          <form class="form-horizontal"  #addprotype1="ngForm" (ngSubmit)="addprotype(addprotype1.value)">
             
            <div class="form-group">
              <label class="control-label col-sm-12" for="protype">Project Type</label>
              <div class="col-sm-10">                
                <input type="text" class="form-control" name="protype" id='protype' ngModel >
              </div>
            </div>
            <div class="form-group"> 
              <div class="col-sm-12">
                <button type="submit" class="btn btn-default">Add Project Type</button>
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
  
    </div>
  </div>
      